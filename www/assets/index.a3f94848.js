import{d as e,r as a,c as s,b as t,l,m as d,A as n,v as r,t as p,U as c,V as u,B as i,F as o}from"./ant-design-vue.8fffeee5.js";var x=e({props:{data:{type:Array,required:!0},original:{type:Array,default:()=>[]},baseFields:{type:Object,default:()=>({children:"children",title:"title",key:"id"})}},emits:["select"],setup(e,{emit:l}){const d=a(""),n=a([]),r=a([]),p=a(!0),c=s((()=>e.data)),u=s((()=>e.baseFields)),i=s((()=>e.original));return t(d,(e=>{const a=i.value.map((a=>a.deptName.indexOf(e)>-1?a.deptId:null)).filter(((e,a,s)=>e&&s.indexOf(e)===a));r.value=a,d.value=e,p.value=!0})),t(n,(e=>{console.log("selectedKeys",e)})),{searchValue:d,expandedKeys:r,autoExpandParent:p,deptTreeOption:c,replaceFields:u,selectedKeys:n,onExpand:e=>{r.value=e,p.value=!1},handleSelect:e=>{l("select",e)}}}});const y={key:0},f={class:"text-red-400"},h={key:1};x.render=function(e,a,s,t,x,v){const K=l("svg-icon"),m=l("a-input"),V=l("a-tree");return d(),n(o,null,[r(m,{allowClear:!0,value:e.searchValue,"onUpdate:value":a[0]||(a[0]=a=>e.searchValue=a),placeholder:"请输入部门名称"},{prefix:p((()=>[r(K,{name:"search",class:"text-[#d9d9d9]"})])),_:1},8,["value"]),r(V,{blockNode:!0,expandedKeys:e.expandedKeys,"auto-expand-parent":e.autoExpandParent,"replace-fields":e.replaceFields,"tree-data":e.deptTreeOption,selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":a[1]||(a[1]=a=>e.selectedKeys=a),onExpand:e.onExpand,onSelect:e.handleSelect},{title:p((({deptName:a})=>[a.indexOf(e.searchValue)>-1?(d(),n("span",y,[c(u(a.substr(0,a.indexOf(e.searchValue)))+" ",1),i("span",f,u(e.searchValue),1),c(" "+u(a.substr(a.indexOf(e.searchValue)+e.searchValue.length)),1)])):(d(),n("span",h,u(a),1))])),_:1},8,["expandedKeys","auto-expand-parent","replace-fields","tree-data","selectedKeys","onExpand","onSelect"])],64)};export{x as _};
